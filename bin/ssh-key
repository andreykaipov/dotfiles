#!/bin/sh

f="$1"
name="$2"

if [ -z "$f" ]; then
    >&2 echo "Enter the file name, e.g. ~/.ssh/macos.home.pem"
    exit 1
fi

if [ -z "$name" ]; then
    name="$USER"
    >&2 echo "Name was empty, so defaulting to '$name'"
fi

# TODO change this to ed25519, generate on every new machine we configure

ssh-keygen -t rsa -b 4096 -f "$f" -C "$name"
